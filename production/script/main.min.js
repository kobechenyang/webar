var _0xd3b8=['cmVtb3ZlRXZlbnRMaXN0ZW5lcg==','Y2xpY2s=','V2ViR0xSZW5kZXJlcg==','c2hhZG93TWFw','dHlwZQ==','UENGU2hhZG93TWFw','ZW5hYmxlZA==','c2V0UGl4ZWxSYXRpbw==','ZGV2aWNlUGl4ZWxSYXRpbw==','c2V0U2l6ZQ==','aW5uZXJXaWR0aA==','aW5uZXJIZWlnaHQ=','Ym9keQ==','YXBwZW5kQ2hpbGQ=','ZG9tRWxlbWVudA==','UGVyc3BlY3RpdmVDYW1lcmE=','R3JvdXA=','bWluRGlzdGFuY2U=','bWF4RGlzdGFuY2U=','RGlyZWN0aW9uYWxMaWdodA==','ZGlyZWN0aW9uYUxpZ2h0','bWFwU2l6ZQ==','U291cmNl','aW5pdGlhbGl6ZQ==','dGhlbg==','bWFya2VyVXJs','UGF0dGVybk1hcmtlcg==','bWFya2VyRm91bmQ=','ZmluZEluZGV4','bWFya2Vy','cmVuZGVy','YXBwbHk=','cmV0dXJuIChmdW5jdGlvbigpIA==','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','Y29uc29sZQ==','bG9n','ZGVidWc=','aW5mbw==','ZXJyb3I=','ZXhjZXB0aW9u','dHJhY2U=','ZGlzYWJsZUJvZHlTY3JvbGw=','Z2V0RWxlbWVudEJ5SWQ=','Y2FudmFz','bG9hZGluZy1vdmVybGF5','cGFyZW50Tm9kZQ==','dG91Y2hQYWQ=','YWRkRXZlbnRMaXN0ZW5lcg==','dG91Y2htb3Zl','YWRk','UGluY2g=','Z2V0T2JqZWN0QnlOYW1l','bW9kZWw=','dmlzaWJsZQ==','bWF4','c2NhbGU=','bWlu','cGluY2hzdGFydA==','aHR0cHM6Ly9hcmppYW56aHUuczMuY24tbm9ydGgtMS5hbWF6b25hd3MuY29tLmNuL21vZGVsL2ppYW9sb3UvMjAxOV8wOF8wOF8xMzUzNTBfcG9zaXRpb25fcmVjb2xvci5nbHRm','aHR0cHM6Ly9hcmppYW56aHUuczMuY24tbm9ydGgtMS5hbWF6b25hd3MuY29tLmNuL2RhdGEvcGF0dGVybi10YWkzLnBhdHQ=','aHR0cHM6Ly9hcmppYW56aHUuczMuY24tbm9ydGgtMS5hbWF6b25hd3MuY29tLmNuL21vZGVsL3RhaWhlLzIwMTlfMDhfMDhfMTM1MzUwX3Bvc2l0aW9uX3JlY29sb3IuZ2x0Zg==','aHR0cHM6Ly9hcmppYW56aHUuczMuY24tbm9ydGgtMS5hbWF6b25hd3MuY29tLmNuL2RhdGEvcGF0dGVybi16aG9uZzMucGF0dA==','aHR0cHM6Ly9hcmppYW56aHUuczMuY24tbm9ydGgtMS5hbWF6b25hd3MuY29tLmNuL21vZGVsL3pob25naGUvMjAxOV8wOF8wOF8xMzUzNTBfcG9zaXRpb25fcmVjb2xvci5nbHRm','aHR0cHM6Ly9hcmppYW56aHUuczMuY24tbm9ydGgtMS5hbWF6b25hd3MuY29tLmNuL2RhdGEvcGF0dGVybi13dTMucGF0dA==','aHR0cHM6Ly9hcmppYW56aHUuczMuY24tbm9ydGgtMS5hbWF6b25hd3MuY29tLmNuL21vZGVsL3d1bWVuLzIwMTlfMDhfMDhfMTM1MzUwX3Bvc2l0aW9uX3JlY29sb3IuZ2x0Zg==','cXVlcnlTZWxlY3Rvcg==','I3Byb2dyZXNz','b25TdGFydA==','c3R5bGU=','dmlzaWJpbGl0eQ==','b25Mb2Fk','aGlkZGVu','b25FcnJvcg==','Y2FtZXJh','Ym90dG9t','c2hhZG93','dG9w','cmlnaHQ=','bGVmdA==','cmVtb3Zl','YXR0YWNo','dGFyZ2V0','cmVtb3ZlQ2hpbGQ=','cG9zaXRpb24=','c2V0','VmVjdG9yMw==','bG9va0F0','dXBkYXRl','cHJlcGVuZA==','dGV4dENvbnRlbnQ=','bG9hZA==','bmFtZQ==','aW5jbHVkZXM=','bWF0ZXJpYWw=','U2hhZG93TWF0ZXJpYWw=','aXNNZXNo','c2NlbmU=','b2Zmc2V0','b25Qcm9ncmVzcw=='];(function(_0x3ae6c2,_0x205c9d){var _0x5c957d=function(_0x4df777){while(--_0x4df777){_0x3ae6c2['push'](_0x3ae6c2['shift']());}};_0x5c957d(++_0x205c9d);}(_0xd3b8,0x148));var _0x14bc=function(_0x43dc79,_0x49e1e1){_0x43dc79=_0x43dc79-0x0;var _0x5c6cc3=_0xd3b8[_0x43dc79];if(_0x14bc['JpRAgF']===undefined){(function(){var _0x10abf4;try{var _0x3ed330=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x10abf4=_0x3ed330();}catch(_0x340279){_0x10abf4=window;}var _0x4ab95c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x10abf4['atob']||(_0x10abf4['atob']=function(_0x57f287){var _0x4dd819=String(_0x57f287)['replace'](/=+$/,'');for(var _0xc4c2d=0x0,_0x20aa47,_0x356d5f,_0x1b2ae0=0x0,_0x12a344='';_0x356d5f=_0x4dd819['charAt'](_0x1b2ae0++);~_0x356d5f&&(_0x20aa47=_0xc4c2d%0x4?_0x20aa47*0x40+_0x356d5f:_0x356d5f,_0xc4c2d++%0x4)?_0x12a344+=String['fromCharCode'](0xff&_0x20aa47>>(-0x2*_0xc4c2d&0x6)):0x0){_0x356d5f=_0x4ab95c['indexOf'](_0x356d5f);}return _0x12a344;});}());_0x14bc['qSUwUV']=function(_0x291410){var _0x12933c=atob(_0x291410);var _0x5cfda4=[];for(var _0x4fc098=0x0,_0x19294f=_0x12933c['length'];_0x4fc098<_0x19294f;_0x4fc098++){_0x5cfda4+='%'+('00'+_0x12933c['charCodeAt'](_0x4fc098)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5cfda4);};_0x14bc['SeigVn']={};_0x14bc['JpRAgF']=!![];}var _0x4e25a8=_0x14bc['SeigVn'][_0x43dc79];if(_0x4e25a8===undefined){_0x5c6cc3=_0x14bc['qSUwUV'](_0x5c6cc3);_0x14bc['SeigVn'][_0x43dc79]=_0x5c6cc3;}else{_0x5c6cc3=_0x4e25a8;}return _0x5c6cc3;};var _0x2fc08a=function(){var _0x165c15=!![];return function(_0x52cb83,_0x202e51){var _0x556e23=_0x165c15?function(){if(_0x202e51){var _0x83c61=_0x202e51[_0x14bc('0x0')](_0x52cb83,arguments);_0x202e51=null;return _0x83c61;}}:function(){};_0x165c15=![];return _0x556e23;};}();var _0x2836d0=_0x2fc08a(this,function(){var _0x4ba883=function(){};var _0x2ab20b=function(){var _0x40f6a9;try{_0x40f6a9=Function(_0x14bc('0x1')+_0x14bc('0x2')+');')();}catch(_0x18f38a){_0x40f6a9=window;}return _0x40f6a9;};var _0x3c5179=_0x2ab20b();if(!_0x3c5179[_0x14bc('0x3')]){_0x3c5179[_0x14bc('0x3')]=function(_0x4ba883){var _0x25e696={};_0x25e696[_0x14bc('0x4')]=_0x4ba883;_0x25e696['warn']=_0x4ba883;_0x25e696[_0x14bc('0x5')]=_0x4ba883;_0x25e696[_0x14bc('0x6')]=_0x4ba883;_0x25e696[_0x14bc('0x7')]=_0x4ba883;_0x25e696[_0x14bc('0x8')]=_0x4ba883;_0x25e696[_0x14bc('0x9')]=_0x4ba883;return _0x25e696;}(_0x4ba883);}else{_0x3c5179[_0x14bc('0x3')][_0x14bc('0x4')]=_0x4ba883;_0x3c5179[_0x14bc('0x3')]['warn']=_0x4ba883;_0x3c5179[_0x14bc('0x3')][_0x14bc('0x5')]=_0x4ba883;_0x3c5179[_0x14bc('0x3')][_0x14bc('0x6')]=_0x4ba883;_0x3c5179[_0x14bc('0x3')][_0x14bc('0x7')]=_0x4ba883;_0x3c5179[_0x14bc('0x3')][_0x14bc('0x8')]=_0x4ba883;_0x3c5179['console'][_0x14bc('0x9')]=_0x4ba883;}});_0x2836d0();import{GLTFLoader}from'../js/libs/GLTFLoader.js';import{OrbitControls}from'../js/libs/OrbitControls.js';let _0x3b935e,_0x37ce03,_0x2c4441,_0x1dcee9;let _0xec96ef;let _0xafacbd,_0x18e4d5;let _0x2d636a=-0x1;bodyScrollLock[_0x14bc('0xa')](document[_0x14bc('0xb')](_0x14bc('0xc')));const _0x2da974=document[_0x14bc('0xb')](_0x14bc('0xd'));const _0x1d0afd=_0x2da974[_0x14bc('0xe')];const _0x557359=document[_0x14bc('0xb')](_0x14bc('0xf'));const _0x2bcaac=_0x557359[_0x14bc('0xe')];document[_0x14bc('0x10')](_0x14bc('0x11'),function(e){e['preventDefault']();},{'passive':![]});var _0x13effc=document[_0x14bc('0xb')]('BtnClick');var _0x40e4e1=new Hammer['Manager'](_0x557359);_0x40e4e1[_0x14bc('0x12')](new Hammer[(_0x14bc('0x13'))]({'threshold':0x0}));let _0x257f26;_0x40e4e1['on']('pinchmove',function(ev){const model=_0xafacbd[_0x14bc('0x14')](_0x14bc('0x15'));if(_0xafacbd[_0x14bc('0x16')]&&model&&_0x257f26){let size=Math[_0x14bc('0x17')](0x1,_0x257f26*ev[_0x14bc('0x18')]);size=Math[_0x14bc('0x19')](size,0x5);model[_0x14bc('0x18')]['set'](0.01*size,0.01*size,0.01*size);}});_0x40e4e1['on'](_0x14bc('0x1a'),function(e){const model=_0xafacbd['getObjectByName'](_0x14bc('0x15'));if(_0xafacbd[_0x14bc('0x16')]&&model){_0x257f26=model[_0x14bc('0x18')]['x']*0x64;}else{_0x257f26=null;}});var _0x4cd62e=[{'markerUrl':'https://arjianzhu.s3.cn-north-1.amazonaws.com.cn/data/pattern-jiao3.patt','modelUrl':_0x14bc('0x1b'),'scale':0x1,'offset':{'x':0.00045,'y':0x0,'z':0.00049}},{'markerUrl':_0x14bc('0x1c'),'modelUrl':_0x14bc('0x1d'),'scale':0x1,'offset':{'x':-0.00005,'y':0x0,'z':0.00106}},{'markerUrl':'https://arjianzhu.s3.cn-north-1.amazonaws.com.cn/data/pattern-bao3.patt','modelUrl':'https://arjianzhu.s3.cn-north-1.amazonaws.com.cn/model/baohe/2019_08_08_135350_position_recolor.gltf','scale':0x1,'offset':{'x':0x0,'y':0x0,'z':-0.00129}},{'markerUrl':_0x14bc('0x1e'),'modelUrl':_0x14bc('0x1f'),'scale':0x1,'offset':{'x':0.00073,'y':0x0,'z':-0.00085}},{'markerUrl':_0x14bc('0x20'),'modelUrl':_0x14bc('0x21'),'scale':0x1,'offset':{'x':0x0,'y':0x0,'z':0x0}}];function initLoadingManager(){const manager=new THREE['LoadingManager']();const progressBar=document[_0x14bc('0x22')](_0x14bc('0x23'));let percentComplete=0x1;let frameID=null;const updateAmount=0.5;manager[_0x14bc('0x24')]=()=>{if(frameID!==null)return;_0x2da974[_0x14bc('0x25')][_0x14bc('0x26')]=_0x14bc('0x16');};manager[_0x14bc('0x27')]=function(){_0x2da974[_0x14bc('0x25')]['visibility']=_0x14bc('0x28');};manager[_0x14bc('0x29')]=function(e){console[_0x14bc('0x7')](e);};return manager;}function setDirectionligthSize(size){if(!_0x18e4d5||size<0x0||size>0x5)return;_0x18e4d5['shadow'][_0x14bc('0x2a')][_0x14bc('0x2b')]=-0xa;_0x18e4d5[_0x14bc('0x2c')][_0x14bc('0x2a')][_0x14bc('0x2d')]=0xa;_0x18e4d5['shadow']['camera'][_0x14bc('0x2e')]=0xa;_0x18e4d5[_0x14bc('0x2c')][_0x14bc('0x2a')][_0x14bc('0x2f')]=-0xa;}function pickup(){var model=_0xafacbd[_0x14bc('0x14')](_0x14bc('0x15'));if(model!==null){_0xafacbd[_0x14bc('0x30')](model);_0x2c4441[_0x14bc('0x12')](model);_0x2c4441[_0x14bc('0x31')](_0x18e4d5);_0x18e4d5['position']['set'](0.6,1.6,0.6);model=_0x2c4441[_0x14bc('0x14')]('model');_0x18e4d5[_0x14bc('0x32')]=model;_0x2bcaac[_0x14bc('0x33')](_0x557359);_0x1d0afd[_0x14bc('0x33')](_0x2da974);_0x3b935e[_0x14bc('0x34')][_0x14bc('0x35')](0x0,0.5,1.5);_0x3b935e['up']=new THREE[(_0x14bc('0x36'))](0x0,0x1,0x0);_0x3b935e[_0x14bc('0x37')](new THREE[(_0x14bc('0x36'))](0x0,0x2,0x0));_0x1dcee9['minDistance']=0x1;_0x1dcee9[_0x14bc('0x32')][_0x14bc('0x35')](0x0,0x0,0x0);_0x1dcee9[_0x14bc('0x38')]();_0x13effc['textContent']='落';}}function putdown(){var model=_0x2c4441[_0x14bc('0x14')](_0x14bc('0x15'));if(model){_0x2bcaac['prepend'](_0x557359);_0x1d0afd[_0x14bc('0x39')](_0x2da974);_0x1dcee9['minDistance']=0x0;_0x3b935e[_0x14bc('0x34')][_0x14bc('0x35')](0x0,0x0,0x0);_0x3b935e['up']=new THREE[(_0x14bc('0x36'))](0x0,0x1,0x0);_0x3b935e[_0x14bc('0x37')](new THREE[(_0x14bc('0x36'))](0x0,0x0,0x0));_0x2d636a=-0x1;_0x13effc[_0x14bc('0x3a')]='拾';_0x2c4441[_0x14bc('0x30')](model);}}function loadModel(index){if(index<0x0||index>=_0x4cd62e['length']){console[_0x14bc('0x7')]('marker\x20index\x20is\x20not\x20valid');return;}if(_0xec96ef||index===_0x2d636a){return;}_0xec96ef=!![];var manager=initLoadingManager();var loader=new GLTFLoader(manager);loader[_0x14bc('0x3b')](_0x4cd62e[index]['modelUrl'],function(gltf){gltf['scene']['traverse'](function(child){if(child[_0x14bc('0x3c')][_0x14bc('0x3d')]('ground')){child[_0x14bc('0x3e')]=new THREE[(_0x14bc('0x3f'))]({'opacity':0.5});}if(child[_0x14bc('0x40')]){child['castShadow']=!![];child['receiveShadow']=!![];}});gltf[_0x14bc('0x41')][_0x14bc('0x3c')]=_0x14bc('0x15');var oldModel=_0xafacbd[_0x14bc('0x14')](_0x14bc('0x15'));if(oldModel){_0xafacbd['remove'](oldModel);}_0xafacbd[_0x14bc('0x12')](gltf[_0x14bc('0x41')]);_0xafacbd[_0x14bc('0x31')](_0x18e4d5);_0x18e4d5['position'][_0x14bc('0x35')](0.6,1.6,0.6);_0x18e4d5[_0x14bc('0x32')]=_0xafacbd;var scale=_0x4cd62e[index][_0x14bc('0x18')];gltf[_0x14bc('0x41')][_0x14bc('0x34')][_0x14bc('0x35')](_0x4cd62e[index]['offset']['x'],_0x4cd62e[index]['offset']['y'],_0x4cd62e[index][_0x14bc('0x42')]['z']);gltf[_0x14bc('0x41')][_0x14bc('0x18')][_0x14bc('0x35')](0.01,0.01,0.01);gltf[_0x14bc('0x41')][_0x14bc('0x18')][_0x14bc('0x35')](0.01*scale,0.01*scale,0.01*scale);_0x2d636a=index;_0xec96ef=![];},manager[_0x14bc('0x43')],manager[_0x14bc('0x29')]);}function update(){if(!_0xafacbd){return;}const isAR=_0xafacbd[_0x14bc('0x16')]&&_0xafacbd[_0x14bc('0x14')](_0x14bc('0x15'));const is3D=!_0xafacbd[_0x14bc('0x14')](_0x14bc('0x15'))&&_0x2c4441[_0x14bc('0x14')]('model');if(!(_0xafacbd['visible']&&isAR)){_0x2d636a=-0x1;}if(isAR||is3D){_0x13effc[_0x14bc('0x25')]['visibility']=_0x14bc('0x16');}else{_0x13effc[_0x14bc('0x25')][_0x14bc('0x26')]=_0x14bc('0x28');}if(_0x13effc[_0x14bc('0x25')][_0x14bc('0x26')]!==_0x14bc('0x16'))return;if(isAR){_0x13effc[_0x14bc('0x3a')]='拾';_0x13effc[_0x14bc('0x44')](_0x14bc('0x45'),pickup);_0x13effc[_0x14bc('0x44')](_0x14bc('0x45'),putdown);_0x13effc[_0x14bc('0x10')](_0x14bc('0x45'),pickup);}else if(is3D){_0x13effc[_0x14bc('0x3a')]='落';_0x13effc[_0x14bc('0x44')](_0x14bc('0x45'),putdown);_0x13effc[_0x14bc('0x44')](_0x14bc('0x45'),pickup);_0x13effc['addEventListener'](_0x14bc('0x45'),putdown);}}function init(){_0xec96ef=![];_0x37ce03=new THREE[(_0x14bc('0x46'))]({'antialias':!![],'alpha':!![]});_0x37ce03[_0x14bc('0x47')][_0x14bc('0x48')]=THREE[_0x14bc('0x49')];_0x37ce03[_0x14bc('0x47')][_0x14bc('0x4a')]=!![];_0x37ce03[_0x14bc('0x4b')](window[_0x14bc('0x4c')]);_0x37ce03[_0x14bc('0x4d')](window[_0x14bc('0x4e')],window[_0x14bc('0x4f')]);document[_0x14bc('0x50')][_0x14bc('0x51')](_0x37ce03[_0x14bc('0x52')]);_0x2c4441=new THREE['Scene']();_0x3b935e=new THREE[(_0x14bc('0x53'))](0x2d,window[_0x14bc('0x4e')]/window['innerHeight'],0.25,0x14);_0x2c4441[_0x14bc('0x12')](_0x3b935e);_0xafacbd=new THREE[(_0x14bc('0x54'))]();_0x2c4441[_0x14bc('0x12')](_0xafacbd);_0x1dcee9=new OrbitControls(_0x3b935e,_0x37ce03[_0x14bc('0x52')]);_0x1dcee9['screenSpacePanning']=![];_0x1dcee9[_0x14bc('0x55')]=0x0;_0x1dcee9[_0x14bc('0x56')]=0x4;_0x1dcee9['maxPolarAngle']=Math['PI']/0x2;var light=new THREE['HemisphereLight'](0xffffff,0x9797a0,0x1);_0x2c4441[_0x14bc('0x12')](light);_0x18e4d5=new THREE[(_0x14bc('0x57'))](0xffffff,0x1,0xa);_0x18e4d5[_0x14bc('0x3c')]=_0x14bc('0x58');_0x18e4d5['castShadow']=!![];_0x18e4d5[_0x14bc('0x2c')][_0x14bc('0x59')][_0x14bc('0x35')](0x800,0x800);_0x18e4d5[_0x14bc('0x32')]=_0xafacbd;_0x18e4d5[_0x14bc('0x2c')]['camera'][_0x14bc('0x2b')]=-0x2;_0x18e4d5[_0x14bc('0x2c')]['camera'][_0x14bc('0x2d')]=0x2;_0x18e4d5[_0x14bc('0x2c')]['camera'][_0x14bc('0x2e')]=0x2;_0x18e4d5[_0x14bc('0x2c')]['camera'][_0x14bc('0x2f')]=-0x2;_0xafacbd[_0x14bc('0x12')](_0x18e4d5);_0x18e4d5[_0x14bc('0x34')][_0x14bc('0x35')](0.6,1.6,0.6);var source=new THREEAR[(_0x14bc('0x5a'))]({'renderer':_0x37ce03,'camera':_0x3b935e});THREEAR[_0x14bc('0x5b')]({'source':source,'lostTimeout':0x1388})[_0x14bc('0x5c')](controller=>{for(var i=0x0;i<_0x4cd62e['length'];i++){var markerUrl=_0x4cd62e[i][_0x14bc('0x5d')];var patternMarker=new THREEAR[(_0x14bc('0x5e'))]({'patternUrl':markerUrl,'markerObject':_0xafacbd,'patternRatio':0.8,'minConfidence':0.5});controller['trackMarker'](patternMarker);}controller[_0x14bc('0x10')](_0x14bc('0x5f'),function(event){const is3D=!_0xafacbd[_0x14bc('0x14')](_0x14bc('0x15'))&&_0x2c4441[_0x14bc('0x14')](_0x14bc('0x15'));if(!is3D){var index=_0x4cd62e[_0x14bc('0x60')](model=>model[_0x14bc('0x5d')]===event[_0x14bc('0x61')]['patternUrl']);loadModel(index);}});var lastTimeMsec=0x0;requestAnimationFrame(function animate(nowMsec){update();requestAnimationFrame(animate);lastTimeMsec=lastTimeMsec||nowMsec-0x3e8/0x3c;var deltaMsec=Math[_0x14bc('0x19')](0xc8,nowMsec-lastTimeMsec);lastTimeMsec=nowMsec;_0x1dcee9[_0x14bc('0x38')]();controller[_0x14bc('0x38')](source[_0x14bc('0x52')]);_0x37ce03[_0x14bc('0x62')](_0x2c4441,_0x3b935e);});});}init();